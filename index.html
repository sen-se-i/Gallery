<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>10-Day Event Calendar</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap');

body {
  font-family: Arial, sans-serif;
  margin: 20px;
  background-color: #EEEEEE;
  background-image: linear-gradient(to right, #DDDDDD 1px, transparent 1px),
                    linear-gradient(to bottom, #DDDDDD 1px, transparent 1px);
  background-size: 40px 40px;
  transition: background 0.5s;
}

h1 {
  text-align: center;
  font-family: 'Luckiest Guy', cursive;
  color: #F79B72;
  font-size: 2.5em;
  margin-bottom: 20px;
  -webkit-text-stroke: 2px #2A4759;
  text-stroke: 2px #2A4759;
}

.calendar-container { text-align: center; }
table { border-collapse: collapse; width: 100%; table-layout: fixed; }
th, td {
  border: 1px solid #2A4759;
  text-align: center;
  padding: 8px;
  min-width: 100px;
  position: relative;
  background-color: #F79B72;
  color: #2A4759;
  transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
}

th {
  background-color: #2A4759;
  color: #EEEEEE;
  border: 1px solid #FFFFFF40;
}

td.event { background-color: #DDDDDD; }
td.mine { background-color: #CFE2FF; }
td.empty { background-color: #EEEEEE; }

td:hover {
  background-color: #EEEEEE;;
  border: 3px solid #000;
  box-shadow: 0 0 15px rgba(0,0,0,0.4);
  transform: scale(1.03);
}

/* --- Plus Button --- */
button.add-btn {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  font-size: 22px;
  cursor: pointer;
  border: none;
  background: transparent;
  color: #2A4759;
  opacity: 0;
  transition: opacity 0.3s, transform 0.3s, color 0.3s;
}

td.empty:hover button.add-btn {
  opacity: 1;
  color: #28a745;
  transform: translate(-50%, -50%) scale(1.2);
  text-shadow: 0 0 5px #28a745;
}

/* --- Nav Buttons --- */
.nav-buttons button {
  padding: 8px 15px;
  border-radius: 12px;
  border: none;
  background-color: #F79B72;
  color: #EEEEEE;
  cursor: pointer;
  margin: 5px;
  font-weight: bold;
  transition: transform 0.3s, background 0.3s;
}
.nav-buttons button:hover { transform: scale(1.05); }

/* --- Update Button --- */
.update-btn-container {
  text-align: center;
  margin-top: 15px;
}
#updateBtn {
  padding: 10px 20px;
  font-weight: bold;
  border: none;
  border-radius: 12px;
  background-color: #28a745;
  color: #fff;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform 0.3s, background 0.3s;
}
#updateBtn:hover::before {
  content: "";
  position: absolute; top:0; left:0; width:100%; height:100%;
  background: linear-gradient(120deg, #ffffff55 0%, #ffffff00 70%);
  transform: translateX(-100%);
  animation: shine 0.8s forwards;
}
#updateBtn:hover { transform: scale(1.05); }
#updateBtn.red { background-color: #dc3545; }

@keyframes shine {
  to { transform: translateX(100%); }
}

/* --- Modal --- */
.modal {
  display: none; position: fixed; z-index: 1000;
  left:0; top:0; width:100%; height:100%;
  background-color: rgba(0,0,0,0.3);
  backdrop-filter: blur(4px);
}

.modal-content {
  background-color: #EEEEEE; margin: 10% auto; padding: 20px;
  border: 1px solid #2A4759; width: 300px; border-radius: 10px;
  text-align: left;
}
.modal-content label { display: block; margin-top: 10px; }
.modal-content select, .modal-content input { width: 100%; padding:5px; margin-top:5px; }
.modal-content button { margin-top: 15px; width: 48%; padding: 8px; }

</style>
</head>
<body>

<h1>10 Days Planner</h1>

<div class="calendar-container">
  <div class="nav-buttons">
    <button id="prevBtn">⟵ Previous 10 Days</button>
    <button id="nextBtn">Next 10 Days ⟶</button>
  </div>

  <table id="calendarTable">
    <thead>
      <tr id="dateRow"><th>Time</th></tr>
    </thead>
    <tbody id="calendarBody"></tbody>
  </table>
</div>

<div class="update-btn-container">
  <button id="updateBtn">Update Events</button>
</div>

<!-- Modal -->
<div id="eventModal" class="modal">
  <div class="modal-content">
    <h3>Add/Edit Event</h3>
    <label>Department:
      <select id="deptSelect">
        <option>SWE</option>
        <option>EEE</option>
        <option>CSE</option>
      </select>
    </label>
    <label>Batch:
      <select id="batchSelect"></select>
    </label>
    <label>Event Type:
      <select id="eventSelect">
        <option>Exam (TT/Quiz/other)</option>
        <option>Sessions</option>
        <option>Seminar</option>
        <option>Others</option>
      </select>
    </label>
    <button id="saveEventBtn">Save</button>
    <button id="cancelEventBtn">Cancel</button>
  </div>
</div>

<script>
// JS logic (time 12-hour, plus modal with blur, events storage)
const dateRow=document.getElementById("dateRow");
const calendarBody=document.getElementById("calendarBody");
const updateBtn=document.getElementById("updateBtn");
const startHour=9,endHour=17,daysToShow=10;
let offsetDays=0,today=new Date().toDateString(),editMode=false,currentUser="user1",events={};
const modal=document.getElementById("eventModal");
const deptSelect=document.getElementById("deptSelect");
const batchSelect=document.getElementById("batchSelect");
const eventSelect=document.getElementById("eventSelect");
const saveBtn=document.getElementById("saveEventBtn");
const cancelBtn=document.getElementById("cancelEventBtn");
let currentKey=null;

for(let y=24;y>=18;y--){
  let opt=document.createElement("option"); opt.text=`${y}-${y+1}`; batchSelect.add(opt);
}

function formatTime(hour){
  let ampm=hour>=12?"PM":"AM";
  let h=hour>12?hour-12:hour;
  if(h===0) h=12;
  return `${h} ${ampm} - ${h+1>12?h-11:h+1} ${hour+1>=12?"PM":"AM"}`;
}

function formatDate(date){ return date.toLocaleDateString("en-US",{month:"short",day:"numeric"}); }

function renderCalendar(){
  let startDate=new Date(); startDate.setHours(0,0,0,0); startDate.setDate(startDate.getDate()+offsetDays);
  dateRow.innerHTML="<th>Time</th>"; calendarBody.innerHTML=""; let dates=[];
  for(let i=0;i<daysToShow;i++){
    const d=new Date(startDate); d.setDate(d.getDate()+i); dates.push(d);
    const th=document.createElement("th"); th.textContent=formatDate(d); dateRow.appendChild(th);
  }
  for(let hour=startHour;hour<endHour;hour++){
    const tr=document.createElement("tr");
    const timeCell=document.createElement("td"); timeCell.textContent=formatTime(hour); tr.appendChild(timeCell);
    for(let i=0;i<daysToShow;i++){
      const date=dates[i],key=`${date.toDateString()}-${hour}`;
      const td=document.createElement("td"); td.dataset.key=key;
      if(events[key]){
        td.textContent=events[key].display; td.classList.add("event");
        if(events[key].user===currentUser){ td.classList.add("mine"); td.addEventListener("click",()=>openModal(key,events[key])); }
        else td.addEventListener("click",()=>alert("This slot is occupied by another user."));
      } else {
        td.classList.add("empty");
        if(editMode){
          const btn=document.createElement("button"); btn.textContent="+"; btn.classList.add("add-btn");
          btn.addEventListener("click",(e)=>{ e.stopPropagation(); openModal(key); });
          td.appendChild(btn);
        }
      }
      tr.appendChild(td);
    }
    calendarBody.appendChild(tr);
  }
}

function openModal(key,existing=null){
  currentKey=key;
  if(existing){ deptSelect.value=existing.dept; batchSelect.value=existing.batch; eventSelect.value=existing.eventType; }
  else { deptSelect.value="SWE"; batchSelect.value="24-25"; eventSelect.value="Exam (TT/Quiz)"; }
  modal.style.display="block";
}

saveBtn.addEventListener("click",()=>{
  const dept=deptSelect.value,batch=batchSelect.value,eventType=eventSelect.value;
  events[currentKey]={user:currentUser,dept,batch,eventType,display:`${dept} ${batch}\n${eventType}`};
  modal.style.display="none"; renderCalendar();
});
cancelBtn.addEventListener("click",()=>{ modal.style.display="none"; });
window.addEventListener("click",(e)=>{ if(e.target===modal) modal.style.display="none"; });

document.getElementById("prevBtn").addEventListener("click",()=>{ offsetDays-=daysToShow; renderCalendar(); });
document.getElementById("nextBtn").addEventListener("click",()=>{ offsetDays+=daysToShow; renderCalendar(); });
updateBtn.addEventListener("click",()=>{ editMode=!editMode; updateBtn.classList.toggle("red"); updateBtn.textContent=editMode?"Stop Updating":"Update Events"; renderCalendar(); });
setInterval(()=>{ const now=new Date().toDateString(); if(now!==today){ today=now; offsetDays=0; renderCalendar(); } },60000);

renderCalendar();


</script>
</body>
</html>
